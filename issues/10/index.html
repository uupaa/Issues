<h2>Summary</h2>

<p>GPU Accelerated Canvas is cleared after setTimeout.</p>

<h3>Version</h3>

<p>Chrome Beta 40.0.2214.36</p>

<h3>OS</h3>

<p>Android 5.0.0; Nexus 6 Build/LRX210</p>

<h3>What steps will reproduce the problem?</h3>

<ol>
<li>Chrome stable or Chrome beta run on Androidd 5.0.0 Nexus 6.</li>
<li>open example <a href="./fail.html">fail.html</a>, a pacman is moved to the right.</li>
</ol>

<h3>What is the expected behavior?</h3>

<p><a href="./good.html">good.html</a>, display the three pacmans.</p>

<h3>What went wrong?</h3>

<ol>
<li>setTimeout call.</li>
<li>exec some canvas path API.</li>
<li>clear all pixels (The expected behavior is that still have the previous drawing).</li>
</ol>

<p>This problem has occurred only in Nexus 6.</p>

<ul>
<li>see <a href="https://www.youtube.com/watch?v=pAMTDuwOuP0">Nexus6 Canvas render failure movie</a>
<ul>
<li>1st page is <a href="./good.html">good.html</a>.</li>
<li>2nd page is <a href="./fail.html">fail.html</a>.</li>
</ul></li>
</ul>

<h3>Additional tests.</h3>

<ol>
<li>use requestAnimationFrame. <a href="./fail.raf.html">test page</a> <a href="http://youtu.be/Yhbw8J31wyg">movie</a></li>
<li>use requestAnimationFrame + drawImage. <a href="fail.raf.image.html">test page</a> <a href="http://youtu.be/d162FZfETR4">movie</a></li>
</ol>

<h3>Additional tests (2015-02-23)</h3>

<p>I tried Chrome 41.0.2272.63. <a href="http://youtu.be/Pb2R8Zokp2U">movie</a></p>

<p>Unfortunately, I looks like the situation is getting worse.</p>

<p>The head of packman may disappear.</p>

<h3>More Informations</h3>

<ul>
<li><a href="https://gist.github.com/uupaa/bfd9b3d64e9719e7a9dc">good/fail demo page source code</a></li>
<li><a href="http://youtu.be/eVK5WUI8Gnk">Nexus6 Canvas render failure with Nexus7</a></li>
<li><img src="./assets/gpu0.png" alt="" title="" /></li>
<li><img src="./assets/gpu1.png" alt="" title="" /></li>
<li><img src="./assets/gpu2.png" alt="" title="" /></li>
<li><img src="./assets/gpu3.png" alt="" title="" /></li>
<li><img src="./assets/gpu4.png" alt="" title="" /></li>
<li><img src="./assets/gpu5.png" alt="" title="" /></li>
<li><img src="./assets/gpu6.png" alt="" title="" /></li>
<li><img src="./assets/gpu7.png" alt="" title="" /></li>
</ul>
